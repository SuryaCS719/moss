<html>
<head>
<title>/fall24/hli347/pa1/List.c</title>
</head>
<body bgcolor="white">
<hr/>
/fall24/hli347/pa1/List.c<p></p><pre>
/***
* Hugo Li
* hli347
* 2024 Fall CSE101 PA1
* List.c
* Implements a doubly linked list ADT with that manipulates the list.
***/

#include "List.h"

// Node creation and deletion functions
<a name="2"></a><font color="#0000FF"><a href="match18-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_9.gif"/></a>

Node createNode(int value) {
    Node node = malloc(sizeof(struct NodeObj));
    node-&gt;data = value;
    node-&gt;next = NULL;
    node-&gt;prev = NULL;
    return node;
}

void deleteNode(Node* nodeRef) {
    if (nodeRef != NULL &amp;&amp; *nodeRef != NULL) {
        free(*nodeRef);
        *nodeRef = NULL;
    }
}

// List creation and deletion
List createList(void) {
    List list = malloc(sizeof(struct ListObj));
    list-&gt;front = NULL;
    list-&gt;back = NULL;
    list-&gt;cursor = NULL;
    list-&gt;length = 0;
    list-&gt;index = -1;
</font>    return list;
}

void deleteList(List* listRef) {
<a name="1"></a><font color="#00FF00"><a href="match18-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_20.gif"/></a>

    if (listRef != NULL &amp;&amp; *listRef != NULL) {
        clearList(*listRef);
        free(*listRef);
        *listRef = NULL;
    }
}

// List property functions
int getListLength(List list) {
    if (list == NULL) {
        printf("List Error: calling getListLength() on NULL List reference\n");
        exit(1);
    }
    return list-&gt;length;
}

int getCursorIndex(List list) {
    if (list == NULL) {
        printf("List Error: calling getCursorIndex() on NULL List reference\n");
        exit(1);
    }
    return list-&gt;index;
}

int getFront(List list) {
    if (list == NULL) {
        printf("List Error: calling getFront() on NULL List reference\n");
        exit(1);
    }
    if (getListLength(list) &lt;= 0) {
        printf("List Error: calling getFront() on an empty List\n");
        exit(1);
    }
    return list-&gt;front-&gt;data;
}

int getBack(List list) {
    if (list == NULL) {
        printf("List Error: calling getBack() on NULL List reference\n");
        exit(1);
    }
    if (getListLength(list) &lt;= 0) {
        printf("List Error: calling getBack() on an empty List\n");
        exit(1);
    }
    return list-&gt;back-&gt;data;
}

int getCursorValue(List list) {
    if (list == NULL) {
        printf("List Error: calling getCursorValue() on NULL List reference\n");
        exit(1);
    }
    if (getListLength(list) &lt;= 0) {
        printf("List Error: calling getCursorValue() on an empty List\n");
        exit(1);
    }
    if (getCursorIndex(list) &lt; 0) {
        printf("List Error: calling getCursorValue() on an undefined cursor\n");
        exit(1);
    }
    return list-&gt;cursor-&gt;data;
}

// Comparison function
bool areEqual(List A, List B) {
    if (A == NULL || B == NULL) {
        printf("List Error: calling areEqual() on NULL List reference\n");
        exit(1);
    }
    if (getListLength(A) != getListLength(B)) {
        return false;
    }
    Node nodeA = A-&gt;front;
    Node nodeB = B-&gt;front;
    while (nodeA != NULL &amp;&amp; nodeB != NULL) {
</font>        if (nodeA-&gt;data != nodeB-&gt;data) {
            return false;
        }
<a name="0"></a><font color="#FF0000"><a href="match18-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_63.gif"/></a>

        nodeA = nodeA-&gt;next;
        nodeB = nodeB-&gt;next;
    }
    return true;
}

// Movement functions
void moveToFront(List list) {
    if (list == NULL) {
        printf("List Error: calling moveToFront() on NULL List reference\n");
        exit(1);
    }
    if (getListLength(list) &gt; 0) {
        list-&gt;cursor = list-&gt;front;
        list-&gt;index = 0;
    }
}

void moveToBack(List list) {
    if (list == NULL) {
        printf("List Error: calling moveToBack() on NULL List reference\n");
        exit(1);
    }
    if (getListLength(list) &gt; 0) {
        list-&gt;cursor = list-&gt;back;
        list-&gt;index = getListLength(list) - 1;
    }
}

void movePrevious(List list) {
    if (list == NULL) {
        printf("List Error: calling movePrevious() on NULL List reference\n");
        exit(1);
    }
    if (list-&gt;cursor != NULL &amp;&amp; list-&gt;index != 0) {
        list-&gt;cursor = list-&gt;cursor-&gt;prev;
        list-&gt;index--;
    } else if (list-&gt;cursor != NULL &amp;&amp; list-&gt;index == 0) {
        list-&gt;cursor = NULL;
        list-&gt;index = -1;
    }
}

void moveNext(List list) {
    if (list == NULL) {
        printf("List Error: calling moveNext() on NULL List reference\n");
        exit(1);
    }
    if (list-&gt;cursor != NULL &amp;&amp; list-&gt;index != getListLength(list) - 1) {
        list-&gt;cursor = list-&gt;cursor-&gt;next;
        list-&gt;index++;
    } else if (list-&gt;cursor != NULL &amp;&amp; list-&gt;index == getListLength(list) - 1) {
        list-&gt;cursor = NULL;
        list-&gt;index = -1;
    }
}

// Modification functions
void prependToList(List list, int value) {
    if (list == NULL) {
        printf("List Error: calling prependToList() on NULL List reference\n");
        exit(1);
    }
    Node node = createNode(value);
    if (getListLength(list) &lt;= 0) {
        list-&gt;front = node;
        list-&gt;back = node;
    } else {
        list-&gt;front-&gt;prev = node;
        node-&gt;next = list-&gt;front;
        list-&gt;front = node;
    }
    list-&gt;length++;
    if (list-&gt;cursor != NULL) {
        list-&gt;index++;
    }
}

void appendToList(List list, int value) {
    if (list == NULL) {
        printf("List Error: calling appendToList() on NULL List reference\n");
        exit(1);
    }
    Node node = createNode(value);
    if (getListLength(list) &lt;= 0) {
        list-&gt;front = node;
        list-&gt;back = node;
    } else {
        list-&gt;back-&gt;next = node;
        node-&gt;prev = list-&gt;back;
        list-&gt;back = node;
    }
    list-&gt;length++;
}

void deleteFront(List list) {
    if (list == NULL) {
        printf("List Error: calling deleteFront() on NULL List reference\n");
        exit(1);
    }
    if (getListLength(list) &lt;= 0) {
        printf("List Error: calling deleteFront() on an empty List\n");
        exit(1);
    }
    if (list-&gt;cursor == list-&gt;front) {
        list-&gt;cursor = NULL;
        list-&gt;index = -1;
    } else if (list-&gt;index != -1) {
        list-&gt;index--;
    }
    Node node = list-&gt;front;
    if (getListLength(list) &gt; 1) {
        list-&gt;front = list-&gt;front-&gt;next;
        list-&gt;front-&gt;prev = NULL;
    } else {
        list-&gt;front = NULL;
        list-&gt;back = NULL;
    }
    list-&gt;length--;
    deleteNode(&amp;node);
}

// Utility functions
void clearList(List list) {
    if (list == NULL) {
        printf("List Error: calling clearList() on NULL List reference\n");
        exit(1);
    }
    while (getListLength(list) &gt; 0) {
        deleteFront(list);
    }
    list-&gt;front = NULL;
    list-&gt;back = NULL;
    list-&gt;cursor = NULL;
    list-&gt;length = 0;
    list-&gt;index = -1;
}

void printList(FILE* output, List list) {
    if (list == NULL) {
        printf("List Error: calling printList() on NULL List reference\n");
        exit(1);
    }
    Node node = list-&gt;front;
    while (node != NULL) {
        fprintf(output, "%d ", node-&gt;data);
        node = node-&gt;next;
    }
}

List copyList(List list) {
    if (list == NULL) {
        printf("List Error: calling copyList() on NULL List reference\n");
        exit(1);
    }
    List copy = createList();
    Node node = list-&gt;front;
    while (node != NULL) {
        appendToList(copy, node-&gt;data);
        node = node-&gt;next;
</font>    }
    return copy;
}

</pre>
</body>
</html>
