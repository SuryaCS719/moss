<html>
<head>
<title>/fall24/aaacacio/pa1/Lex.c</title>
</head>
<body bgcolor="white">
<hr/>
/fall24/aaacacio/pa1/Lex.c<p></p><pre>
// Andre Acacio
// 1895405
// pa1

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;
#include &lt;stdbool.h&gt;
#include &lt;string.h&gt;
#include "List.h"



<a name="0"></a><font color="#FF0000"><a href="match3-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

int main(int argc, char* argv[]){
    
    FILE *input, *output;

    if(argc != 3){ //Checks for proper amount of arguments
        printf("Error: More or Less than Two Arguments Given \n");
        exit(EXIT_FAILURE);
    }

    input = fopen(argv[1], "r");
    output = fopen(argv[2], "w");

    if (input == NULL){
        printf("File Read Error, NULL File %s\n", argv[1]);
        exit(EXIT_FAILURE);
    }
    else if (output == NULL){
        printf("File Read Error, NULL File %s\n", argv[2]);
        exit(EXIT_FAILURE);
    }



    char lines;
    int Line_Count = 0;
    while ((lines = fgetc(input)) != EOF){
        if (lines == '\n'){
            Line_Count++;
        }
    } //Counts how many lines the input has



    char **Array = malloc((Line_Count + 1) * sizeof(char*)); //Creates enough memory for new array of that size

    rewind(input);

    for (int i = 0; i &lt; Line_Count; i++){
        
        Array[i] = (char *)malloc(MAX_LINES * sizeof(char));
        if (Array == NULL){
            exit(EXIT_FAILURE);
        }
        if (fgets(Array[i], MAX_LINES, input) != NULL){
            
            if (i == Line_Count - 1 &amp;&amp;Array[i] [strlen(Array[1]) - 1] != '\n'){
                Array[i][strlen(Array[i])] = '\n'; //Builds empty array of proper size
            }
        }
    }
    

    List New = newList();
    append(New, 0); //Creates a new list and initializes the first line/string to use as a comparator
    int x = 1;
    moveFront(New);
    printf("Array: %s\n", Array[0]);
    while (1){

        printf("cursor is %d, which is list value of %s for a length of %d\n", index(New), Array[get(New)], length(New));
        printf("---%s (%d) compared to %s---\n", Array[x], x, Array[get(New)]);
        printf("Value:%d\n", strcmp(Array[x], Array[get(New)]));
        if (strcmp(Array[x], Array[get(New)]) &lt; 0){ //inserts input before if it belongs there, I ran into an issue I was stuck on all night, for some reason infile1 wouldn't insert before specifcally eleven and nine, indexes 10 and 8
            printf("inside if, X: %d\n", x);
            printf("inserting before index %d (%d)\n", index(New), get(New));
            insertBefore(New, x);
            x++;
            printList(stdout, New);
            moveFront(New);
            printf("Moving front\n");
           
        }
        else if (index(New) == (length(New)-1)){ //if we reach the end of the New list, the incoming string will be added to the end
                append(New, x);
                x++;
                printf("appending\n");
                printList(stdout, New);
                moveFront(New);
                printf(" added to the back\n");  }  
        

        else moveNext(New);
        printf("cursor ++\n");
        

        //printf("in the while at %d, %d\n", x, index(New));
        printf("%d of line count %d\n", x, Line_Count);
        if (x == Line_Count){ //Breaks after limit reached
            printf("broken\n");
            break;
        }
    
    }
    printf("Array Made\n");
    printList(stdout, New);
    moveFront(New);
    printf("SIZE:%d\n", sizeof(Array));
    for (int y = 0; y &lt; Line_Count; y++) { //writes output file using order the list is
        printf("making output %d\n", y);
        fprintf(output, "%s\n", Array[get(New)]); 
        moveNext(New);}
    printf("Out file printed\n");
    fclose(input);
    fclose(output);

printf("Made it to the end");
</font>    return 0;
}
</pre>
</body>
</html>
