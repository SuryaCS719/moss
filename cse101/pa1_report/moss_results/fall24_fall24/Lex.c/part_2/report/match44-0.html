<html>
<head>
<title>/fall24/nsaldanh/pa1/Lex.c</title>
</head>
<body bgcolor="white">
<hr/>
/fall24/nsaldanh/pa1/Lex.c<p></p><pre>
/***
* Naomi Saldanha // First and Last Name
* nsaldanh // UCSC UserID
* 2024 Fall CSE101 PA1 // Replace ID with assignment number
* Lex.c // FileName
* Main file to run ListADT // Description
***/

#include "List.h"
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;
#include "string.h"

<a name="0"></a><font color="#FF0000"><a href="match44-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

int main(int argc, char** argv){
	if(argc!=3){
		fprintf(stderr, "Quitting program, there are less/greater than two arguments\n");
	}
	FILE* infile = fopen(argv[1],"r");
	if (infile == NULL) {
        	fprintf(stderr, "Error opening input file.\n");
        	return 1;
    	}	
	int ch=0;
  	int lines=0;
	int ctr=0;
	int lngStr=0;
	while ((ch = fgetc(infile)) != EOF){
		ctr+=1;
		if (ch == '\n'){
			if(ctr&gt;lngStr){
				lngStr=ctr;
				
			}
			if(ctr&gt;1){
				lines+=1;
			}
			ctr=0;
		}
	}
	char** array = (char**)malloc(lines * sizeof(char*));
	assert(array!=NULL);
	
	rewind(infile);
	char str[lngStr + 1];
	int arrCtr=0;
	while (fgets(str, lngStr+1, infile) != NULL &amp;&amp; arrCtr&lt;lines){
                array[arrCtr] = (char*)malloc((strlen(str) + 1) * sizeof(char));
	       	assert(array[arrCtr]!=NULL);	
                strcpy(array[arrCtr], str);
		arrCtr+=1;
        }

	List L = newList();
	append(L, 0);
	moveFront(L);
	for (int current=1; current&lt;lines; current+=1){
		moveFront(L);
		while (index(L) &gt;= 0){
			int cmp = strcmp(array[get(L)], array[current]);
			if(cmp&gt;0){
				insertBefore(L, current);
				break;
			}
			moveNext(L);
		}
		if(index(L)==-1){
			append(L, current);
		}
	}
	FILE *outfile = fopen(argv[2], "w");
	if (outfile == NULL) {
        	fprintf(stderr, "Error opening output file.\n");
        	return 1;
    	}

	moveFront(L);
	while(index(L) &gt;=0){
		fprintf(outfile, "%s",array[get(L)]);
		free(array[get(L)]);
		moveNext(L);
	}
	free(array);
	freeList(&amp;L);
	fclose(infile);
</font>	fclose(outfile);
	return 0;
}


</pre>
</body>
</html>
