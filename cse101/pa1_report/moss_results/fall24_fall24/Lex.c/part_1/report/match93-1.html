<html>
<head>
<title>/fall24/amhsiung/pa1/Lex.c</title>
</head>
<body bgcolor="white">
<hr/>
/fall24/amhsiung/pa1/Lex.c<p></p><pre>
/***
Amber Hsiung
amhsiung
2024 Fall CSE 101 pa1
Lex.c
Client module for Integer List ADT
***/

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include "List.h"

#define MAX_LENGTH 255

<a name="0"></a><font color="#FF0000"><a href="match93-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_97.gif"/></a>

int main(int argc, char* argv[]) {
   char str[MAX_LENGTH];
   List strList = newList(); // this is the ordered list of indices

   //check for correct # of args
   if (argc != 3){
      fprintf(stderr, "Incorrect number of arguments.");
      exit(EXIT_FAILURE);
   }
   
   //check that in file is accessible
   FILE* in = fopen(argv[1], "r");
   if ( !in ){
      fprintf(stderr, "Unable to read from file, %s.", argv[1]);
      exit(EXIT_FAILURE);
   }

   //variable to keep track of file size
   int lines = 0;
   while(fgets(str, MAX_LENGTH, in) != NULL){
      lines++;
   }

   fclose(in);
   
   //check that out file is accessible
   FILE* out = fopen(argv[2], "w");
   if ( !out ){
      fprintf(stderr, "Unable to write to file, %s.", argv[2]);
      exit(EXIT_FAILURE);
   }

   //time to start reading
   in = fopen(argv[1], "r");
   
   //initiate string arr, this is the unordered list of words, will not be changed
   char strArr[lines][MAX_LENGTH];
   lines = 0; //start from beginning of the in file again
   while(fgets(str, MAX_LENGTH, in) != NULL){
      for (int i = 0; i &lt;MAX_LENGTH; i++) {
         strArr[lines][i] = str[i];
      }
      lines++;
   }
   
   // sorting
   for (int i = 0; i &lt; lines; i++) {
      moveFront(strList); // start at beginning of sorted list
      while (index(strList) != -1 &amp;&amp; strcmp(strArr[i], strArr[get(strList)]) &gt; 0) {
         moveNext(strList);
      }
      if (index(strList) != -1) {
         insertBefore(strList, i);
      } else{
         append(strList, i);
      }
   }

   //print
   moveFront(strList);
   while (index(strList) &gt; -1) {
      fprintf(out, "%s \n", strArr[get(strList)]);
      moveNext(strList);
   }

   freeList(&amp;strList);
   strList = NULL;

   fclose(in);
</font>   fclose(out);

   return 0;

}
</pre>
</body>
</html>
