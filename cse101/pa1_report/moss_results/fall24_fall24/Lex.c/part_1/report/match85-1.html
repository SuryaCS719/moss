<html>
<head>
<title>/fall24/jgebrese/pa1/Lex.c</title>
</head>
<body bgcolor="white">
<hr/>
/fall24/jgebrese/pa1/Lex.c<p></p><pre>
//JOHN GEBRESELASSIE, jgebrese, pa1
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include "List.h"

#define MAX_LEN 250

<a name="0"></a><font color="#FF0000"><a href="match85-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

int main(int argc, char * argv[]){
	int n = 0;FILE *in, *out;char line[MAX_LEN];
	if( argc != 3 ){
		printf("Usage: %s &lt;input file&gt; &lt;output file&gt;\n", argv[0]);
	exit(EXIT_FAILURE);
	}

	in = fopen(argv[1], "r");
	out = fopen(argv[2], "w");
	if( in == NULL ){
		printf("Unable to open file %s for reading\n", argv[1]);
		exit(EXIT_FAILURE);
	}
	if( out == NULL ){
		printf("Unable to open file %s for writing\n", argv[2]);
		exit(EXIT_FAILURE);
}

	while(fgets(line, MAX_LEN, in) != NULL){
	n++;
	}
	rewind(in);
	char *arr[n];
       	for(int i = 0; fgets(line, MAX_LEN, in) != NULL; i++){
		arr[i] = strdup(line);
	}
	List list = newList();
	append(list, 0);
	for(int i= 1; i &lt; n; i++){
		moveFront(list);
		int arrIndex = get(list);
		while(strcmp(arr[arrIndex], arr[i]) &lt;= 0) {
			moveNext(list);
			if(index(list) == -1){
				break;
			}
			arrIndex = get(list);
		}
		if(index(list) != -1){
			insertBefore(list, i);
		} else {
			append(list, i);
		}
	}

	printList(stdout, list);
	printf("\n");
	moveFront(list);
	while(index(list) != -1){
		printf("%s", arr[get(list)]);
		fprintf(out, "%s", arr[get(list)]);
		moveNext(list);
	}
	fclose(in);
	fclose(out);
	freeList(&amp;list);
</font>
	return(0);
}
</pre>
</body>
</html>
