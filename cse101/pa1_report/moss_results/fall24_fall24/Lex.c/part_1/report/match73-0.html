<html>
<head>
<title>/fall24/bhudick/pa1/Lex.c</title>
</head>
<body bgcolor="white">
<hr/>
/fall24/bhudick/pa1/Lex.c<p></p><pre>
/*
* Brian Hudick
* bhudick
* 2024 Fall CSE101 PA1
* List.c
* takes in an input file and an output file, 
* writes all strings in alphabetical order on 
* the output
*/
#include &lt;stdio.h&gt;
#include "List.h"
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;assert.h&gt;

<a name="0"></a><font color="#FF0000"><a href="match73-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

int main(int argc, char* argv[]){

    if(argc != 3){
        fprintf(stderr, "Incorrect number of arguements, please use only the reading and writing file addresses\n");
        exit(EXIT_FAILURE);
    }

    FILE *input;
    FILE *output;
    input = fopen(argv[1], "r");
    output = fopen(argv[2], "w");
    if(input == NULL){
        fprintf(stderr, "Could not open file.\n");
        return 0;
    }

    char c;
    int line_count = 0;
    while((c = fgetc(input)) != EOF){
        if(c == '\n'){
            line_count++;
        }
    }

    fseek(input, 0, SEEK_SET);
    char **stringList = (char **)malloc(sizeof(char *)*line_count+1);
    for (int i = 0; i &lt; line_count; i++)
    {
        stringList[i] = malloc(64 * sizeof(char));
        fgets(stringList[i], 64, input);
    }

    List L = newList();
    append(L, 0); //the first element
    for(int i = 1; i &lt; line_count; i++){
        moveFront(L);

        //checks if "i" should be put in the front
        if (strcmp(stringList[i], stringList[front(L)]) &lt; 0) {
            prepend(L, i);
        //checks if i should be put in the back
        } else if (strcmp(stringList[back(L)], stringList[i]) &lt; 0) {
            append(L, i);
        } else {
            //only stops and inserts before the cursor when cursor finds a string in the linked list with more value than normal list element "i"
            while (index(L) != -1 &amp;&amp; strcmp(stringList[get(L)], stringList[i]) &lt; 0) {
                moveNext(L);
            }
            insertBefore(L, i);
        }

    }
    
    
    moveFront(L);
    for(int i = 0; i &lt; line_count; i++){
        fputs(stringList[get(L)], output);
        moveNext(L);
    }

    fclose(input);
    fclose(output);

    for(int i = 0; i &lt; line_count; i++){
        free(stringList[i]);
    }
    free(stringList);
    freeList(&amp;L);
</font>    //printf("finished\n");
    return 0;
}</pre>
</body>
</html>
