<html>
<head>
<title>/fall24/mlau16/pa1/Lex.c</title>
</head>
<body bgcolor="white">
<hr/>
/fall24/mlau16/pa1/Lex.c<p></p><pre>
//Mandy Lau
//mlau16
//pa1

#include "List.h"
#include &lt;stdio.h&gt;
#include &lt;stddef.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;
#include &lt;string.h&gt;

<a name="1"></a><font color="#00FF00"><a href="match70-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_12.gif"/></a>

int main(int argc, char *argv[]){

    FILE *in;
    FILE *out;

    if(argc != 3){
        printf("Usage: %s &lt;input file&gt; &lt;output file&gt;\n", argv[0]);
        exit(1);
    }
  
    in = fopen(argv[1], "r");
</font>    if(in==NULL){
<a name="0"></a><font color="#FF0000"><a href="match70-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_80.gif"/></a>

        printf("Unable to open file %s for reading\n", argv[1]);
        exit(1);
    }
   
    out = fopen(argv[2], "w");
    if(out==NULL){
        printf("Unable to open file %s for writing\n", argv[2]);
        exit(1);
    }
   
    char line[300];
    int line_count = 0;
    while( fgets(line,300,in) != NULL){
        line_count++;
    }
    rewind(in);
    char** array = malloc(line_count * sizeof(char*));
    line_count = 0;
    while(fgets(line,300,in)!= NULL){
        array[line_count] = malloc(300 * sizeof(char));
        strcpy(array[line_count],line);
        line_count++;
    }
    for(int i=0; i&lt;line_count; i++){
        printf("%s\n", array[i]);
    }

    List list1 = newList();
    int i = 0;
    append(list1, i);
    moveFront(list1);
    i = 1;

    while ( i &lt; line_count ){

        moveFront(list1);
        bool inserted = false;
        while( index(list1) &gt;= 0 &amp;&amp; inserted == false){
            int comp = strcmp(array[get(list1)], array[i]);
            if (comp &gt; 0){
                insertBefore(list1, i);
                inserted = true;
            } else {
                moveNext(list1);
            }

        }
        if (inserted == false){
            append(list1, i);
        }
        i += 1;

    }

    for(moveFront(list1); index(list1)&gt;=0; moveNext(list1)){
      fprintf(out, "%s\n", array[get(list1)]);
   }

    i = 0;
    while(i&lt;line_count){
        free(array[i]);
        i++;
    }
    freeList(&amp;list1);
    free(array);
    fclose(in);
</font>    fclose(out);
    exit(0);

}</pre>
</body>
</html>
